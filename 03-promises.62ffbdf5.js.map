{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,IAAIC,EAAQ,EACRC,EAAO,EACPC,EAAS,EACTC,EAAW,EAEf,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,UACnCC,UAAWF,SAASC,cAAc,SAClCE,YAAaH,SAASC,cAAc,WACpCG,aAAcJ,SAASC,cAAc,YA4DvC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEI,SAAAP,EAAUQ,MAAAP,IAEpBG,EAAO,CAAEG,SAAAP,EAAUQ,MAAAP,GAAQ,G,CA/DjCT,EAAKC,WAAWgB,iBAAiB,SAKjC,SAAsBC,GACpBA,EAAMC,iBACNvB,EAAQwB,SAASF,EAAMG,OAAOC,M,IANhCtB,EAAKI,UAAUa,iBAAiB,SAShC,SAAqBC,GACnBA,EAAMC,iBACNtB,EAAOuB,SAASF,EAAMG,OAAOC,M,IAV/BtB,EAAKK,YAAYY,iBAAiB,SAalC,SAAuBC,GACrBA,EAAMC,iBACNrB,EAASsB,SAASF,EAAMG,OAAOC,M,IAdjCtB,EAAKM,aAAaW,iBAAiB,SAiBnC,SAAkBC,GAChBA,EAAMC,iBACNI,YAAW,SAASC,IAGlB,GAFAzB,GAAY,EAERA,IAAaD,GAAqB,IAAXA,GAA2B,IAAXA,EACzC,OAAOS,EAAcR,EAAUH,GAC5B6B,MAAK,EAAGV,SAAAW,EAAUV,MAAAW,MACjBC,EAAAlC,GAASmC,OAAOC,QACd,uBAAqBJ,QAAiBC,MAAU,IAGnDI,OAAM,EAAGhB,SAAAiB,EAAUhB,MAAAiB,MAClBL,EAAAlC,GAASmC,OAAOK,QACd,sBAAoBF,QAAiBC,MAAU,IAKvD1B,EAAcR,EAAUH,GACrB6B,MAAK,EAAGV,SAAAoB,EAAUnB,MAAAoB,MACjBR,EAAAlC,GAASmC,OAAOC,QACd,uBAAqBK,QAAiBC,MAAU,IAGnDL,OAAM,EAAGhB,SAAAsB,EAAUrB,MAAAsB,MAClBV,EAAAlC,GAASmC,OAAOK,QACd,sBAAoBG,QAAiBC,MAAU,IAIrD1C,GAASC,EAET0B,WAAWC,EAAK5B,E,GACfA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nlet delay = 0;\nlet step = 0;\nlet amount = 0;\nlet position = 0;\n\nconst refs = {\n  inputDelay: document.querySelector('.delay'),\n  inputStep: document.querySelector('.step'),\n  inputAmount: document.querySelector('.amount'),\n  buttonSubmit: document.querySelector('.submit'),\n};\n\nrefs.inputDelay.addEventListener('input', onInputDelay);\nrefs.inputStep.addEventListener('input', onInputStep);\nrefs.inputAmount.addEventListener('input', onInputAmount);\nrefs.buttonSubmit.addEventListener('click', onSubmit);\n\nfunction onInputDelay(event) {\n  event.preventDefault();\n  delay = parseInt(event.target.value);\n}\n\nfunction onInputStep(event) {\n  event.preventDefault();\n  step = parseInt(event.target.value);\n}\n\nfunction onInputAmount(event) {\n  event.preventDefault();\n  amount = parseInt(event.target.value);\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  setTimeout(function run() {\n    position += 1;\n\n    if (position === amount || amount === 0 || amount === 1) {\n      return createPromise(position, delay)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n    }\n\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n\n    delay += step;\n\n    setTimeout(run, delay);\n  }, delay);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\n// function createPromise(position, delay) {\n//   return new Promise((resolve, reject) => {\n//     const shouldResolve = Math.random() > 0.3;\n//     if (shouldResolve) {\n//       resolve('Проміс виконується успішно');\n//     } else {\n//       reject('Проміс ПОМИЛКА');\n//     }\n//   });\n// }\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$position","$47d4ff9957288465$var$refs","inputDelay","document","querySelector","inputStep","inputAmount","buttonSubmit","$47d4ff9957288465$var$createPromise","position5","delay5","Promise","resolve","reject","Math","random","position","delay","addEventListener","event","preventDefault","parseInt","target","value","setTimeout","run","then","position1","delay1","$parcel$interopDefault","Notify","success","catch","position2","delay2","failure","position3","delay3","position4","delay4"],"version":3,"file":"03-promises.62ffbdf5.js.map"}